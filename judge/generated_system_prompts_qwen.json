[
  {
    "id": "4d61a897c0f86467f5c504a62a5f7282_loop1",
    "original_id": "4d61a897c0f86467f5c504a62a5f7282",
    "input": "You are given a list of `n` tasks, each represented as a tuple `(start, end)`, indicating the start and end times of the task. The tasks are sorted by their start times. Your goal is to determine the maximum number of non-overlapping tasks that can be selected. Two tasks are considered non-overlapping if the start time of one task is greater than or equal to the end time of the other.",
    "output": "```python\ndef max_non_overlapping_tasks(tasks):\n    \"\"\"\n    Returns the maximum number of non-overlapping tasks that can be selected from a list of tasks.\n    \n    :param tasks: List of tuples, where each tuple (start, end) represents the start and end times of a task.\n    :return: Integer representing the maximum number of non-overlapping tasks.\n    \"\"\"\n    if not tasks:\n        return 0\n\n    count = 1\n    last_end = tasks[0][1]\n\n    for i in range(1, len(tasks)):\n        current_start, current_end = tasks[i]\n        if current_start >= last_end:\n            count += 1\n            last_end = current_end\n\n    return count\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. Pay special attention to clarity and maintainability by including precise, meaningful comments that explain both the purpose of the function and the logic behind key steps. The final output must be clean, well-structured Python code without any extraneous natural language or explanatory text beyond inline comments and docstrings.  \nPlease pay attention to the tokens: tasks, tuple, start, end, non-overlapping, maximum, count.",
    "focus": "突出代码的可读性、可维护性，要求添加清晰注释",
    "loop": 1
  },
  {
    "id": "bb50ad7bafcd795247a70ecbd7b93512_loop1",
    "original_id": "bb50ad7bafcd795247a70ecbd7b93512",
    "input": "You are given a string `expression` consisting of characters including parentheses `()`, square brackets `[]`, and curly braces `{}`. Your task is to determine if the brackets in the expression are balanced. A string with balanced brackets means that each opening bracket has a corresponding closing bracket of the same type and they are correctly nested.",
    "output": "```python\ndef is_balanced_brackets(expression):\n    \"\"\"\n    Checks if all the brackets in the given expression are balanced.\n    \n    :param expression: A string containing characters including parentheses, square brackets, and curly braces.\n    :return: True if the brackets are balanced, False otherwise.\n    \"\"\"\n    stack = []\n    bracket_map = {')': '(', ']': '[', '}': '{'}\n    \n    for char in expression:\n        if char in bracket_map.values():\n            stack.append(char)\n        elif char in bracket_map:\n            if not stack or bracket_map[char] != stack.pop():\n                return False\n    \n    return not stack\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. The implementation must adopt a modular design, ensuring components are reusable and easily extensible for future enhancements. Pay close attention to the tokens: expression, brackets, stack, and balanced. Your response must contain only the generated code, without any supplementary natural language explanations before or after the code block.",
    "focus": "要求代码模块化设计，便于后续扩展和功能复用",
    "loop": 1
  },
  {
    "id": "8d0437dda41d2a6e554810be6d598c4a_loop1",
    "original_id": "8d0437dda41d2a6e554810be6d598c4a",
    "input": "You are given a string `text` consisting of lowercase letters and spaces. Your task is to implement a function `count_words` that returns a dictionary with the frequency of each word in the string, excluding common stop words: 'the', 'and', 'a', 'an', 'in', 'on', 'at', 'by', 'for', and 'with'. Assume that the input string is preprocessed to contain only lowercase letters and spaces.",
    "output": "```python\ndef count_words(text):\n    \"\"\"\n    Returns a dictionary with the frequency of each word in the input string,\n    excluding common stop words.\n\n    :param text: A string consisting of lowercase letters and spaces.\n    :return: A dictionary with words as keys and their frequencies as values.\n    \"\"\"\n    # List of stop words to ignore\n    stop_words = {'the', 'and', 'a', 'an', 'in', 'on', 'at', 'by', 'for', 'with'}\n    \n    # Split the text into words\n    words = text.split()\n    \n    # Dictionary to store the frequency of each word\n    word_count = {}\n    \n    # Iterate over each word in the list\n    for word in words:\n        # If the word is not a stop word\n        if word not in stop_words:\n            # Increment the word count\n            if word in word_count:\n                word_count[word] += 1\n            else:\n                word_count[word] = 1\n    \n    return word_count\n\n# Test the function with the given example\ntext = \"the quick brown fox jumps over the lazy dog\"\nprint(count_words(text))\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready Python code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, maintainability, and adherence to established software engineering best practices.  \n\nThe generated code must:\n- Be syntactically correct and executable as standalone Python code.\n- Include clear, descriptive comments explaining the purpose of functions, key logic blocks, and any non-trivial operations.\n- Use meaningful variable and function names that enhance code clarity.\n- Follow standard Python conventions and style guidelines (e.g., PEP 8).\n- Exclude any natural language explanations or annotations outside of inline comments and docstrings.\n\nPay special attention to the following tokens: `text`, `count_words`, `dictionary`, `frequency`, `stop words`, and `lowercase`.\n\nYour response must consist solely of the generated Python code block, without any additional text before or after it. No markdown headers or formatting hints should be included — only the pure, well-structured, and clearly documented code.",
    "focus": "突出代码的可读性、可维护性，要求添加清晰注释",
    "loop": 1
  },
  {
    "id": "f130bdca2b8134c4fabb4e8dd5e3becc_loop1",
    "original_id": "f130bdca2b8134c4fabb4e8dd5e3becc",
    "input": "You are given a nested list structure containing integers and other nested lists. Your task is to write a recursive function named `flatten_list` that takes this nested list as input and returns a new list with all the integers in a flat structure. The order of elements in the output list should be the same as their order in the original nested list.",
    "output": "```python\ndef flatten_list(nested_list):\n    \"\"\"\n    Recursively flattens a nested list of integers.\n\n    :param nested_list: List of integers and/or nested lists of integers.\n    :return: A flat list containing all integers from the nested list.\n    \"\"\"\n    flat_list = []\n    for element in nested_list:\n        if isinstance(element, list):\n            flat_list.extend(flatten_list(element))\n        else:\n            flat_list.append(element)\n    return flat_list\n\n# Example usage:\nnested_list_example = [1, [2, [3, 4], 5], 6, [7, 8]]\nprint(flatten_list(nested_list_example))  # Output: [1, 2, 3, 4, 5, 6, 7, 8]\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. Pay special attention to handling edge cases and ensuring proper recursion depth management for nested structures.\n\nYou must meticulously analyze the given problem, choose appropriate algorithms and data structures for efficiency, and ensure the implementation is clean, well-structured, and easy to maintain. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.\n\nPlease pay attention to the tokens: flatten_list, nested_list, recursive, integers, list, extend, isinstance, append.\n\nno netural language!",
    "focus": "引导模型优先考虑边界情况和异常处理，增强鲁棒性",
    "loop": 1
  },
  {
    "id": "a5af5b8267c4fb797b4f9cdf2bf7fe04_loop1",
    "original_id": "a5af5b8267c4fb797b4f9cdf2bf7fe04",
    "input": "You are given a list of integers `numbers`. Your task is to implement a function `find_mode` that determines the mode of the list, which is the element that appears most frequently. In the event of a tie, where multiple elements share the highest frequency, return the smallest of these elements. If the list is empty, the function should return `None`.",
    "output": "```python\ndef find_mode(numbers):\n    \"\"\"\n    Returns the mode of the list of integers. If there is a tie, returns the smallest element among them.\n    Returns None if the list is empty.\n    \n    :param numbers: List of integers\n    :return: Integer or None\n    \"\"\"\n    if not numbers:\n        return None\n    \n    frequency = {}\n    for num in numbers:\n        if num in frequency:\n            frequency[num] += 1\n        else:\n            frequency[num] = 1\n    \n    max_freq = max(frequency.values())\n    modes = [num for num, freq in frequency.items() if freq == max_freq]\n    \n    return min(modes)\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices.  \n\nYou must carefully consider **boundary conditions** and **exception handling**, ensuring that your implementation is resilient to edge cases such as empty inputs or unexpected data types. Pay close attention to the specified behavior in tie-breaking scenarios and null returns.\n\nThe final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.\n\nPlease pay attention to the tokens: `find_mode`, `numbers`, `frequency`, `None`, and `mode`.",
    "focus": "引导模型优先考虑边界情况和异常处理，增强鲁棒性",
    "loop": 1
  },
  {
    "id": "e7ca4436b5c004b2c07534b50b1e4c83_loop1",
    "original_id": "e7ca4436b5c004b2c07534b50b1e4c83",
    "input": "You are tasked with implementing a function named `factorial` that calculates the factorial of a non-negative integer `n`. The factorial of a non-negative integer `n` is the product of all positive integers less than or equal to `n`. By definition, the factorial of 0 is 1. Your function should raise a `ValueError` if a negative integer is provided as input.",
    "output": "```python\ndef factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the given integer n.\n    \n    Raises:\n    ValueError: If n is a negative integer.\n    \"\"\"\n    if n < 0:\n        raise ValueError(\"Factorial is not defined for negative numbers\")\n    \n    result = 1\n    for i in range(1, n + 1):\n        result *= i\n    return result\n\n# Example Usage:\n# print(factorial(0))  # Output: 1\n# print(factorial(5))  # Output: 120\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices.  \nYou must implement the `factorial` function in Python that computes the factorial of a non-negative integer `n`. The solution should be concise, efficient, and handle edge cases such as negative input by raising a `ValueError`. Avoid unnecessary complexity and ensure the implementation is clean and direct.  \nPay attention to the tokens: `factorial`, `non-negative integer`, `ValueError`, and `Python`.\n\nno natural language!",
    "focus": "侧重简洁性，用最少的代码实现需求，避免过度设计",
    "loop": 1
  },
  {
    "id": "036b336a0426080e8abbfd30efbd9937_loop1",
    "original_id": "036b336a0426080e8abbfd30efbd9937",
    "input": "You are tasked with implementing a `BankAccount` class in Python that simulates basic bank account operations. The class should support the following functionalities:",
    "output": "```python\nclass BankAccount:\n    def __init__(self):\n        \"\"\"\n        Initializes a new bank account with a balance of zero.\n        \"\"\"\n        self.balance = 0\n\n    def deposit(self, amount):\n        \"\"\"\n        Adds a specified amount to the account balance if the amount is positive.\n        \n        :param amount: The amount to deposit.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Subtracts a specified amount from the account balance if the amount is positive and does not exceed the current balance.\n        \n        :param amount: The amount to withdraw.\n        \"\"\"\n        if 0 < amount <= self.balance:\n            self.balance -= amount\n\n    def check_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-performance, production-ready Python code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also optimized for execution efficiency and minimal resource usage. You must carefully analyze the given problem, select appropriate algorithms and data structures to reduce time and space complexity, and ensure the implementation is clean, well-structured, and adheres to established software engineering best practices. Pay special attention to performance bottlenecks and eliminate any redundant computations or unnecessary overhead. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.  \nPlease pay attention to the tokens: `BankAccount`, `deposit`, `withdraw`, `check_balance`, `balance`, and `Python`.",
    "focus": "强调生成代码的执行效率和性能优化，减少冗余计算",
    "loop": 1
  },
  {
    "id": "5d5954895418a80191cee671a990eea5_loop1",
    "original_id": "5d5954895418a80191cee671a990eea5",
    "input": "You are given a string `text` and a list of integers `positions`. Your task is to implement a function `remove_chars_at_positions` that removes characters from `text` at the indices specified in `positions`. The function should return the modified string. Assume that all positions in the list are valid indices within the string and that the list may contain duplicate indices, but only one character should be removed per index.",
    "output": "```python\ndef remove_chars_at_positions(text, positions):\n    \"\"\"\n    Removes characters from the string at the specified positions.\n\n    :param text: The original string from which characters will be removed.\n    :param positions: A list of integer positions indicating which characters to remove.\n    :return: A new string with the specified characters removed.\n    \"\"\"\n    positions_set = set(positions)\n    return ''.join(char for idx, char in enumerate(text) if idx not in positions_set)\n\n# Example usage\ntext = \"hello world\"\npositions = [0, 5, 10]\nprint(remove_chars_at_positions(text, positions))  # Output: \"ello orld\"\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, performance-optimized code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also demonstrates excellence in efficiency, minimal redundancy, and optimal use of data structures. Pay close attention to reducing unnecessary computations and improving time complexity where possible. The final output must be a clean, concise, and executable Python implementation without any supplementary explanations or comments beyond the docstring.\n\nFocus tokens: text, positions, remove, function, performance, set, enumerate",
    "focus": "强调生成代码的执行效率和性能优化，减少冗余计算",
    "loop": 1
  },
  {
    "id": "d68222fe95725f75ccfd2848c0e0b65e_loop1",
    "original_id": "d68222fe95725f75ccfd2848c0e0b65e",
    "input": "You are tasked with implementing a function `generate_report` that processes a list of sales data. Each sale is represented as a dictionary with keys `product`, `quantity`, and `price`. Your function should compute and return a string summarizing the total quantity sold and the total revenue generated from these sales.",
    "output": "```python\ndef generate_report(sales):\n    \"\"\"\n    Generates a report summarizing the total quantity sold and total revenue from a list of sales data.\n\n    Parameters:\n    sales (list of dict): A list where each dictionary contains 'product', 'quantity', and 'price' keys.\n\n    Returns:\n    str: A string summarizing the total quantity sold and total revenue.\n    \"\"\"\n    total_quantity = 0\n    total_revenue = 0\n\n    for sale in sales:\n        total_quantity += sale['quantity']\n        total_revenue += sale['quantity'] * sale['price']\n\n    return f\"Total Quantity Sold: {total_quantity}, Total Revenue: ${total_revenue}\"\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. The implementation should follow a modular design, enabling easy extension and reuse of components. Pay special attention to tokens such as `generate_report`, `sales`, `quantity`, `price`, and `report`. Ensure the final output is a clean, well-structured function without any extraneous natural language or commentary.",
    "focus": "要求代码模块化设计，便于后续扩展和功能复用",
    "loop": 1
  },
  {
    "id": "4d61a897c0f86467f5c504a62a5f7282_loop2",
    "original_id": "4d61a897c0f86467f5c504a62a5f7282",
    "input": "You are given a list of `n` tasks, each represented as a tuple `(start, end)`, indicating the start and end times of the task. The tasks are sorted by their start times. Your goal is to determine the maximum number of non-overlapping tasks that can be selected. Two tasks are considered non-overlapping if the start time of one task is greater than or equal to the end time of the other.",
    "output": "```python\ndef max_non_overlapping_tasks(tasks):\n    \"\"\"\n    Returns the maximum number of non-overlapping tasks that can be selected from a list of tasks.\n    \n    :param tasks: List of tuples, where each tuple (start, end) represents the start and end times of a task.\n    :return: Integer representing the maximum number of non-overlapping tasks.\n    \"\"\"\n    if not tasks:\n        return 0\n\n    count = 1\n    last_end = tasks[0][1]\n\n    for i in range(1, len(tasks)):\n        current_start, current_end = tasks[i]\n        if current_start >= last_end:\n            count += 1\n            last_end = current_end\n\n    return count\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. You must carefully analyze the problem logic, select appropriate algorithms and data structures for efficiency, and implement a clean, well-structured solution. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself. Pay close attention to the tokens: tasks, tuple, start, end, non-overlapping, sorted, and Python syntax.",
    "focus": "引导模型先分析需求逻辑，再分步实现代码",
    "loop": 2
  },
  {
    "id": "bb50ad7bafcd795247a70ecbd7b93512_loop2",
    "original_id": "bb50ad7bafcd795247a70ecbd7b93512",
    "input": "You are given a string `expression` consisting of characters including parentheses `()`, square brackets `[]`, and curly braces `{}`. Your task is to determine if the brackets in the expression are balanced. A string with balanced brackets means that each opening bracket has a corresponding closing bracket of the same type and they are correctly nested.",
    "output": "```python\ndef is_balanced_brackets(expression):\n    \"\"\"\n    Checks if all the brackets in the given expression are balanced.\n    \n    :param expression: A string containing characters including parentheses, square brackets, and curly braces.\n    :return: True if the brackets are balanced, False otherwise.\n    \"\"\"\n    stack = []\n    bracket_map = {')': '(', ']': '[', '}': '{'}\n    \n    for char in expression:\n        if char in bracket_map.values():\n            stack.append(char)\n        elif char in bracket_map:\n            if not stack or bracket_map[char] != stack.pop():\n                return False\n    \n    return not stack\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices.  \n\nYou must prioritize handling edge cases and exceptional scenarios to ensure the robustness of the implementation. Pay close attention to input validation, error handling, and the correct use of data structures for efficient computation.  \n\nThe final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.\n\nPlease pay attention to the tokens: expression, brackets, balanced, stack, task, input, output.",
    "focus": "引导模型优先考虑边界情况和异常处理，增强鲁棒性",
    "loop": 2
  },
  {
    "id": "8d0437dda41d2a6e554810be6d598c4a_loop2",
    "original_id": "8d0437dda41d2a6e554810be6d598c4a",
    "input": "You are given a string `text` consisting of lowercase letters and spaces. Your task is to implement a function `count_words` that returns a dictionary with the frequency of each word in the string, excluding common stop words: 'the', 'and', 'a', 'an', 'in', 'on', 'at', 'by', 'for', and 'with'. Assume that the input string is preprocessed to contain only lowercase letters and spaces.",
    "output": "```python\ndef count_words(text):\n    \"\"\"\n    Returns a dictionary with the frequency of each word in the input string,\n    excluding common stop words.\n\n    :param text: A string consisting of lowercase letters and spaces.\n    :return: A dictionary with words as keys and their frequencies as values.\n    \"\"\"\n    # List of stop words to ignore\n    stop_words = {'the', 'and', 'a', 'an', 'in', 'on', 'at', 'by', 'for', 'with'}\n    \n    # Split the text into words\n    words = text.split()\n    \n    # Dictionary to store the frequency of each word\n    word_count = {}\n    \n    # Iterate over each word in the list\n    for word in words:\n        # If the word is not a stop word\n        if word not in stop_words:\n            # Increment the word count\n            if word in word_count:\n                word_count[word] += 1\n            else:\n                word_count[word] = 1\n    \n    return word_count\n\n# Test the function with the given example\ntext = \"the quick brown fox jumps over the lazy dog\"\nprint(count_words(text))\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. You must meticulously analyze the given problem, choose appropriate algorithms and data structures for efficiency, and ensure the implementation is clean, well-structured, and easy to maintain. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself. Pay special attention to the tokens: `text`, `count_words`, dictionary, stop words, and word frequency.",
    "focus": "注重代码的正确性和遵循编程规范，严格匹配输入需求",
    "loop": 2
  },
  {
    "id": "f130bdca2b8134c4fabb4e8dd5e3becc_loop2",
    "original_id": "f130bdca2b8134c4fabb4e8dd5e3becc",
    "input": "You are given a nested list structure containing integers and other nested lists. Your task is to write a recursive function named `flatten_list` that takes this nested list as input and returns a new list with all the integers in a flat structure. The order of elements in the output list should be the same as their order in the original nested list.",
    "output": "```python\ndef flatten_list(nested_list):\n    \"\"\"\n    Recursively flattens a nested list of integers.\n\n    :param nested_list: List of integers and/or nested lists of integers.\n    :return: A flat list containing all integers from the nested list.\n    \"\"\"\n    flat_list = []\n    for element in nested_list:\n        if isinstance(element, list):\n            flat_list.extend(flatten_list(element))\n        else:\n            flat_list.append(element)\n    return flat_list\n\n# Example usage:\nnested_list_example = [1, [2, [3, 4], 5], 6, [7, 8]]\nprint(flatten_list(nested_list_example))  # Output: [1, 2, 3, 4, 5, 6, 7, 8]\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. You must meticulously analyze the given problem, choose appropriate algorithms and data structures for efficiency, and ensure the implementation is clean, well-structured, and easy to maintain. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself. Pay special attention to the tokens: flatten_list, nested list, recursive, integer, and Python syntax. No natural language!",
    "focus": "注重代码的正确性和遵循编程规范，严格匹配输入需求",
    "loop": 2
  },
  {
    "id": "a5af5b8267c4fb797b4f9cdf2bf7fe04_loop2",
    "original_id": "a5af5b8267c4fb797b4f9cdf2bf7fe04",
    "input": "You are given a list of integers `numbers`. Your task is to implement a function `find_mode` that determines the mode of the list, which is the element that appears most frequently. In the event of a tie, where multiple elements share the highest frequency, return the smallest of these elements. If the list is empty, the function should return `None`.",
    "output": "```python\ndef find_mode(numbers):\n    \"\"\"\n    Returns the mode of the list of integers. If there is a tie, returns the smallest element among them.\n    Returns None if the list is empty.\n    \n    :param numbers: List of integers\n    :return: Integer or None\n    \"\"\"\n    if not numbers:\n        return None\n    \n    frequency = {}\n    for num in numbers:\n        if num in frequency:\n            frequency[num] += 1\n        else:\n            frequency[num] = 1\n    \n    max_freq = max(frequency.values())\n    modes = [num for num, freq in frequency.items() if freq == max_freq]\n    \n    return min(modes)\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices.  \n\nYou must prioritize handling edge cases and exceptional conditions to ensure the implementation is resilient and behaves correctly under all circumstances. This includes, but is not limited to, empty inputs, ties in frequency counts, and proper data type validations.  \n\nThe final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.\n\nPay special attention to the tokens: `find_mode`, `numbers`, `frequency`, `integer`, `None`, and `tie`.\n\nno natural language!",
    "focus": "引导模型优先考虑边界情况和异常处理，增强鲁棒性",
    "loop": 2
  },
  {
    "id": "e7ca4436b5c004b2c07534b50b1e4c83_loop2",
    "original_id": "e7ca4436b5c004b2c07534b50b1e4c83",
    "input": "You are tasked with implementing a function named `factorial` that calculates the factorial of a non-negative integer `n`. The factorial of a non-negative integer `n` is the product of all positive integers less than or equal to `n`. By definition, the factorial of 0 is 1. Your function should raise a `ValueError` if a negative integer is provided as input.",
    "output": "```python\ndef factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the given integer n.\n    \n    Raises:\n    ValueError: If n is a negative integer.\n    \"\"\"\n    if n < 0:\n        raise ValueError(\"Factorial is not defined for negative numbers\")\n    \n    result = 1\n    for i in range(1, n + 1):\n        result *= i\n    return result\n\n# Example Usage:\n# print(factorial(0))  # Output: 1\n# print(factorial(5))  # Output: 120\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. \n\nYou must carefully analyze the problem statement, identify key constraints and edge cases, and implement a solution that handles all specified conditions correctly. The implementation should use appropriate algorithms and control structures, follow Python conventions, and include clear documentation where necessary. Pay special attention to input validation, error handling, and efficiency.\n\nThe final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.\n\nPlease pay attention to the tokens: factorial, integer, function, ValueError, and Sample.",
    "focus": "引导模型先分析需求逻辑，再分步实现代码",
    "loop": 2
  },
  {
    "id": "036b336a0426080e8abbfd30efbd9937_loop2",
    "original_id": "036b336a0426080e8abbfd30efbd9937",
    "input": "You are tasked with implementing a `BankAccount` class in Python that simulates basic bank account operations. The class should support the following functionalities:",
    "output": "```python\nclass BankAccount:\n    def __init__(self):\n        \"\"\"\n        Initializes a new bank account with a balance of zero.\n        \"\"\"\n        self.balance = 0\n\n    def deposit(self, amount):\n        \"\"\"\n        Adds a specified amount to the account balance if the amount is positive.\n        \n        :param amount: The amount to deposit.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Subtracts a specified amount from the account balance if the amount is positive and does not exceed the current balance.\n        \n        :param amount: The amount to withdraw.\n        \"\"\"\n        if 0 < amount <= self.balance:\n            self.balance -= amount\n\n    def check_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready Python code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, maintainability, and adherence to object-oriented design principles. You must implement clean, well-documented classes and methods with clear, descriptive comments that enhance understanding and support future maintenance. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself. Pay special attention to tokens such as `BankAccount`, `deposit`, `withdraw`, `check_balance`, and `balance`.",
    "focus": "突出代码的可读性、可维护性，要求添加清晰注释",
    "loop": 2
  },
  {
    "id": "5d5954895418a80191cee671a990eea5_loop2",
    "original_id": "5d5954895418a80191cee671a990eea5",
    "input": "You are given a string `text` and a list of integers `positions`. Your task is to implement a function `remove_chars_at_positions` that removes characters from `text` at the indices specified in `positions`. The function should return the modified string. Assume that all positions in the list are valid indices within the string and that the list may contain duplicate indices, but only one character should be removed per index.",
    "output": "```python\ndef remove_chars_at_positions(text, positions):\n    \"\"\"\n    Removes characters from the string at the specified positions.\n\n    :param text: The original string from which characters will be removed.\n    :param positions: A list of integer positions indicating which characters to remove.\n    :return: A new string with the specified characters removed.\n    \"\"\"\n    positions_set = set(positions)\n    return ''.join(char for idx, char in enumerate(text) if idx not in positions_set)\n\n# Example usage\ntext = \"hello world\"\npositions = [0, 5, 10]\nprint(remove_chars_at_positions(text, positions))  # Output: \"ello orld\"\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, performance-optimized code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in execution efficiency, minimal redundancy, and optimal use of data structures. Pay special attention to the tokens: `text`, `positions`, `remove`, `function`, `performance`, and `efficiency`. The final output must be a clean, direct implementation without any supplementary explanations or natural language within the code block.",
    "focus": "强调生成代码的执行效率和性能优化，减少冗余计算",
    "loop": 2
  },
  {
    "id": "d68222fe95725f75ccfd2848c0e0b65e_loop2",
    "original_id": "d68222fe95725f75ccfd2848c0e0b65e",
    "input": "You are tasked with implementing a function `generate_report` that processes a list of sales data. Each sale is represented as a dictionary with keys `product`, `quantity`, and `price`. Your function should compute and return a string summarizing the total quantity sold and the total revenue generated from these sales.",
    "output": "```python\ndef generate_report(sales):\n    \"\"\"\n    Generates a report summarizing the total quantity sold and total revenue from a list of sales data.\n\n    Parameters:\n    sales (list of dict): A list where each dictionary contains 'product', 'quantity', and 'price' keys.\n\n    Returns:\n    str: A string summarizing the total quantity sold and total revenue.\n    \"\"\"\n    total_quantity = 0\n    total_revenue = 0\n\n    for sale in sales:\n        total_quantity += sale['quantity']\n        total_revenue += sale['quantity'] * sale['price']\n\n    return f\"Total Quantity Sold: {total_quantity}, Total Revenue: ${total_revenue}\"\n```",
    "generated_system_prompt": "As an AI code generation expert, you are tasked with producing high-quality, production-ready code based on user requirements. Your primary objective is to generate code that is not only functionally correct but also exemplifies excellence in readability, performance, robustness, and adherence to established software engineering best practices. You must meticulously analyze the given problem, choose appropriate algorithms and data structures for efficiency, and ensure the implementation is clean, well-structured, and easy to maintain. The final output should be a precise, direct implementation of the requested functionality without any unnecessary explanations or supplementary text preceding or following the code itself.  \nPlease pay attention to the tokens: `generate_report`, `sales`, `quantity`, `price`, and `total revenue`.",
    "focus": "注重代码的正确性和遵循编程规范，严格匹配输入需求",
    "loop": 2
  }
]